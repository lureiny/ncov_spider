# 疫情爬虫

该爬虫分为以下几部分：

# 下载器

[source](./download.py)

父类：`Download`

该类下载输入的url信息，输出解析后的xml文档。该类使用requests库获取信息，默认Download类只支持GET请求。请求正常的情况下返回经lxml库解析后的根节点。使用xml的规则进行解析。请求的头信息可以在[setting.py](./setting.py)进行设置。

## 存储对象类

[source](./item.py)

父类：`Item`

该类主要定义了更新存储对象信息，获取存储对象信息、处理存储对象信息等方法。不同的爬虫定义不同的类。

## 爬虫类

[source](./spider.py)

父类：`Spider`

该类为爬虫主类，定义了链接判重、去重、存储对象类处理、爬虫主方法（spider函数）。新的爬虫应该继承该类，并将要运行的爬虫类添加到[setting.py](./setting)中的`SPIDERS `中。

爬取之前应该进行url判重，成功爬取后应该将对应的url添加到判重队列中。

## 注意

1. 判重队列的增加逻辑
2. 配置文件本地修改，不要把带有明文密码的文件上传到github